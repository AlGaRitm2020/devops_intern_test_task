# LEMP Test Task

## требования
- Docker

## запуск
1) docker build -t lemp-test .
2) docker run -d -p 8080:80 --name lemp lemp-test

## проверка
- Главная страница: http://localhost:8080
- Метрики: http://localhost:8080/metrics

Главная страница должна содержать две записи (см. в init.sql)
Метрика должна быть следующего вида:

```
Active connections: 1 
server accepts handled requests
 3 3 8 
Reading: 0 Writing: 1 Waiting: 0
```

где 
- 1 - active connections - число активных соединений
- 3 - accpts - общее число принятых соединений с момента запуска nginx
- 3 - handled - количество обработанных соединений
- 8 - requests - общее число запросов

Reading, Writing и Waiting обозначают число соединений которые читают запрос от клиента, отправляют ответ клиенту, и keep-alive соединения соответственно
В сумме эти 3 параметра равны active connections. 

## комментарии
решил не делать отдельные контейнеры с БД и с приложением, т.к. в тз было указано про один контейнер. Но правильнее было бы сделать отдельные контейнеры для БД и сервера, обеспечивая лучшую масштабируемость и безопасность. 
